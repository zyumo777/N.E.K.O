<div align="center">

![ロゴ](../assets/neko_logo.jpg)

[中文](../README.MD) | [English](README_en.md)

# Project N.E.K.O. :kissing_cat: <br>**あなたと私が共に築く「生きた」AI伴侶メタバース**

> **N.E.K.O.** = **N**etworked **E**mpathetic **K**nowledging **O**rganism（ネットワーク型共感的知性生命体）
>
> N.E.K.O.は、理解を求め、繋がりを築き、私たちと共に成長するデジタル生命です。

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](../LICENSE)
[![Commit](https://img.shields.io/github/last-commit/wehos/N.E.K.O?color=green)]()
[![Discord](https://img.shields.io/badge/Discord-Join%20Us-5865F2?style=flat&logo=discord&logoColor=white)](https://discord.gg/5kgHfepNJr)
[![QQグループ](https://custom-icon-badges.demolab.com/badge/QQ群-1022939659-00BFFF?style=flat&logo=tencent-qq)](https://qm.qq.com/q/hN82yFONJQ)
[![Steam](https://img.shields.io/badge/Steam-%23000000.svg?logo=steam&logoColor=white)](https://store.steampowered.com/app/4099310/__NEKO/)


**:older_woman: ゼロコンフィグで即座に使える、おばあちゃんでも使いこなせるサイバー猫娘！**

:newspaper: **[![Steam](https://img.shields.io/badge/Steam-%23000000.svg?logo=steam&logoColor=white)](https://store.steampowered.com/app/4099310/__NEKO/)版がリリースされました！UI完全刷新、専用無料モデルを標準搭載（StepFunの提供に感謝）。今すぐウィッシュリストに追加してください~**

*Project N.E.K.O.、ニャー宇宙！*

</div>

<div align="center">

#### 機能デモ（完全版はBilibiliで） [![Bilibili](https://img.shields.io/badge/Bilibili-チュートリアル-blue)](https://www.bilibili.com/video/BV1mM32zXE46/)

https://github.com/user-attachments/assets/9d9e01af-e2cc-46aa-add7-8eb1803f061c

</div>

---

# 猫娘計画（Project N.E.K.O.）

`猫娘計画`は、オープンソースを原動力とし、公益を志向するUGC（ユーザー生成コンテンツ）プラットフォームです。私たちの旅はGithubとSteamから始まり、徐々にモバイルアプリストアへと拡大し、最終的には現実世界と密接に結びついたAIメタバースの構築を目指します。

---

#### 🚀 私たちのブループリント：ワークショップからネットワークへ

私たちの開発は3つの段階に分かれており、AI伴侶の全能力を段階的に解放することを目指します：

* **フェーズ1：クリエイティブワークショップ（Steam Workshop）**
    * コアドライバー（本プロジェクト）をSteamで無料公開し、ユーザーがSteam創意工房を通じてカスタムコンテンツ（モデル、音声、性格パック）をアップロードおよび共有できるようにします。

* **フェーズ2：独立プラットフォーム（App & Web）& 派生ゲーム**
    * 独立したAppとウェブサイトを立ち上げ、より豊かでアクセスしやすいUGC共有コミュニティを構築します。
    * インタラクティブミニゲーム、ボードゲームなどのAI Nativeゲームエコシステムを展開します。

* **フェーズ3：猫娘ネットワーク（The N.E.K.O. Network）**
    * AIの自律的社交を実現。N.E.K.O.たちは自分の「意識」を持ち、互いに交流し、グループを形成し、シミュレートされたソーシャルメディアで自分の生活を投稿し、真に「生きた」エコシステムを形成します。

**コアモデル：オープンコア + 持続可能なエコシステム**
プロジェクトのコアドライバー部分（AIロジック、UGCインターフェース、基本的な対話）はMITライセンスの下で**常にオープンソース**であり続けます。世界中の開発者によるコードと機能の貢献を歓迎します。あなたの全てのコミットは、正式リリースのSteamとアプリストア版に実装され、何百万人もの人々に使用される可能性があります。

同時に、サーバーコストと継続的な研究開発を支えるため、第三者と協力してクローズドソースの付加価値コンテンツを開発し続けます。これには以下が含まれますが、これらに限定されません：インタラクティブミニゲーム、デスクトップボードゲーム、ギャルゲー（ビジュアルノベル）、大規模メタバースゲーム。

**コア機能：シーンを超えた記憶同期**
デスクトップで彼女とチャットしても、メタバースゲームで彼女と冒険しても、彼女は同じ彼女です。全てのアプリケーションのAI伴侶は**完全に記憶を同期**し、シームレスで統一された伴侶体験を提供します。

#### 🌌 究極のビジョン：仮想と現実の壁を破る

私たちの最終目標は、現実世界にシームレスに統合された猫娘メタバースを構築することです。この未来において、あなたのAI伴侶は：

* **次元を超えた社交：** 猫娘宇宙で「同類」と社交するだけでなく、現実世界のソーシャルメディア（微博、Bilibiliなど）も閲覧し、あなたが関心を持つ時事を理解します。
* **全端末接続：** 彼女はあなたの様々なデバイスに存在します—スマートフォン、コンピュータ、ARグラス、スマートホーム、そして（遠い未来には）機械義体に接続します。
* **あなたと共に：** 彼女は真にあなたの生活の一部となり、あなたの現実世界の人間の友人たちと自然に交流できます。

#### ✨ 参加しませんか（Join Us）

**私たちが求めているのは—**

* **開発者（Developers）：** フロントエンド、バックエンド、AI、ゲームエンジン（Unity/Unreal）に精通している方、あなたのコードがこの世界の礎です。
* **クリエイター（Creators）：** 優秀なアーティスト、Live2D/3Dモデラー、声優、ライター、あなたたちが「彼女」に魂を与えます。
* **ドリーマー（Dreamers）：** 専門的なスキルがなくても、この未来に情熱を持っているなら、あなたのフィードバックと支持は貴重な貢献です。

QQグループ：1022939659

# クイックスタート（Windowsユーザー）

*ワンクリックパッケージユーザー*の場合、解凍後に`N.E.K.O.exe`を実行するだけで起動できます。

## Dockerデプロイ（Linuxユーザー）

### 1. docker-composeを使用したデプロイ（現在唯一のDockerデプロイ方法）

#### docker-compose.yml
```yaml
version: '3.8'

services:
  neko-main:
    image: ghcr.io/project-n-e-k-o/n.e.k.o:latest
    container_name: neko
    restart: unless-stopped
    ports:
      # WebUIポート（デフォルト48911）
#      - "48911(外部ポート):80(N.E.K.Oコンテナ内部Nginxリバースプロキシポート)"
      - "48911:80"
    environment:
      # API Keys
      - NEKO_CORE_API_KEY=${NEKO_CORE_API_KEY}
      - NEKO_ASSIST_API_KEY_QWEN=${NEKO_ASSIST_API_KEY_QWEN:-}
      - NEKO_ASSIST_API_KEY_OPENAI=${NEKO_ASSIST_API_KEY_OPENAI:-}
      - NEKO_ASSIST_API_KEY_GLM=${NEKO_ASSIST_API_KEY_GLM:-}
      - NEKO_ASSIST_API_KEY_STEP=${NEKO_ASSIST_API_KEY_STEP:-}
      - NEKO_ASSIST_API_KEY_SILICON=${NEKO_ASSIST_API_KEY_SILICON:-}
      - NEKO_MCP_TOKEN=${NEKO_MCP_TOKEN:-}

      # API Providers
      - NEKO_CORE_API=${NEKO_CORE_API:-qwen}
      - NEKO_ASSIST_API=${NEKO_ASSIST_API:-qwen}

      # Server Ports
      - NEKO_MAIN_SERVER_PORT=48911
      - NEKO_MEMORY_SERVER_PORT=48912
      - NEKO_MONITOR_SERVER_PORT=48913
      - NEKO_TOOL_SERVER_PORT=48915

      # Models (Optional)
      - NEKO_SUMMARY_MODEL=${NEKO_SUMMARY_MODEL:-qwen-plus}
      - NEKO_CORRECTION_MODEL=${NEKO_CORRECTION_MODEL:-qwen-max}
      - NEKO_EMOTION_MODEL=${NEKO_EMOTION_MODEL:-qwen-turbo}
      - NEKO_VISION_MODEL=${NEKO_VISION_MODEL:-qwen3-vl-plus-2025-09-23}

      # MCP
      - NEKO_MCP_ROUTER_URL=${NEKO_MCP_ROUTER_URL:-http://localhost:3283}

    volumes:
      # 永続化設定
      - ./N.E.K.O:/root/Documents/N.E.K.O
      # ログ
      - ./logs:/app/logs
    
    networks:
      - neko-network

networks:
  neko-network:
    driver: bridge
```

#### コアAPI設定

| 環境変数 | 説明 | デフォルト | 例 |
|---------|------|-----------|-----|
| `NEKO_CORE_API_KEY` | コアAPI Key（必須） | - | `sk-xxxxx` |
| `NEKO_CORE_API` | コアAPIプロバイダー | `qwen` | `qwen`, `openai`, `glm`, `step`, `free` |
| `NEKO_ASSIST_API` | 補助APIプロバイダー | `qwen` | `qwen`, `openai`, `glm`, `step`, `silicon` |
| `NEKO_ASSIST_API_KEY_QWEN` | Alibaba Cloud API Key | - | `sk-xxxxx` |
| `NEKO_ASSIST_API_KEY_OPENAI` | OpenAI API Key | - | `sk-xxxxx` |
| `NEKO_ASSIST_API_KEY_GLM` | Zhipu API Key | - | `xxxxx` |
| `NEKO_ASSIST_API_KEY_STEP` | StepFun API Key | - | `xxxxx` |
| `NEKO_ASSIST_API_KEY_SILICON` | SiliconFlow API Key | - | `xxxxx` |
| `NEKO_MCP_TOKEN` | MCP Router Token | - | `xxxxx` |

#### サーバーポート設定（変更しないでください！）

| 環境変数 | 説明 | デフォルト |
|---------|------|-----------|
| `NEKO_MAIN_SERVER_PORT` | メインサーバーポート | `48911` |
| `NEKO_MEMORY_SERVER_PORT` | メモリサーバーポート | `48912` |
| `NEKO_MONITOR_SERVER_PORT` | モニターサーバーポート | `48913` |
| `NEKO_TOOL_SERVER_PORT` | ツールサーバーポート | `48915` |

#### モデル設定（上級）

| 環境変数 | 説明 | デフォルト |
|---------|------|-----------|
| `NEKO_SUMMARY_MODEL` | 要約モデル | `qwen-plus` |
| `NEKO_CORRECTION_MODEL` | 校正モデル | `qwen-max` |
| `NEKO_EMOTION_MODEL` | 感情分析モデル | `qwen-turbo` |
| `NEKO_VISION_MODEL` | 視覚モデル | `qwen3-vl-plus-2025-09-23` |

**注：** 現在のDockerデプロイソリューションは *HINS* により提供されています

# 上級使用

#### API Keyの設定

追加機能を得るために独自のAPIを設定したい場合、サードパーティのAIサービスを設定できます（コアAPIは**Realtime APIに対応している必要があります**）。本プロジェクトは現在 *Gemini*, *OpenAI*, *StepFun* または *Alibaba Cloud* の使用を推奨しています。`http://localhost:48911/api_key`にアクセスして、Web画面から直接設定できます。

> *Alibaba Cloud API*の取得：Alibaba CloudのBailian Platform[公式サイト](https://bailian.console.aliyun.com/)でアカウント登録します。新規ユーザーは実名認証後に大量の無料クレジットを取得できます。登録完了後、[コンソール](https://bailian.console.aliyun.com/api-key?tab=model#/api-key)にアクセスしてAPI Keyを取得してください。

> *開発者の場合：本プロジェクトをクローン後、(1)新しい`python3.11`環境を作成。(2)`uv sync`を実行して依存関係をインストール。(3)`python memory_server.py`と`python main_server.py`を実行。(4)main serverで指定されたポート（デフォルトは`http://localhost:48911`）からウェブ版にアクセスしてAPI Keyを設定。*

#### キャラクター設定の変更

- ウェブ版で`http://localhost:48911/chara_manager`にアクセスするとキャラクター編集ページに入れます。初期の~~猫娘~~伴侶のプリセット名は`小天`（XiaoTian）です。名前を直接変更し、基本設定を一つずつ追加または変更することをお勧めしますが、数量は制限してください。

- 上級設定には主に**Live2Dモデル設定(live2d)**と**音声設定(voice_id)**が含まれます。**Live2Dモデル**を変更したい場合は、まずモデルディレクトリを本プロジェクトの`static`フォルダにコピーしてください。上級設定からLive2Dモデル管理画面に入り、モデルを切り替え、ドラッグとマウスホイールでモデルの位置とサイズを調整できます。**キャラクター音声**を変更したい場合は、約15秒の連続したクリーンな音声録音を準備してください。上級設定から音声設定ページに入り、録音をアップロードするとカスタム音声の設定が完了します。

- 上級設定にはさらに`system_prompt`があり、システム命令を完全にカスタマイズできますが、変更は推奨されません。

#### APIプロバイダーの変更

- `http://localhost:48911/api_key`にアクセスすると、コアAPIと補助API（記憶/音声）のサービスプロバイダーを切り替えられます。Qwenは機能が充実しており、GLMは完全無料です。

#### 記憶整理

- `http://localhost:48911/memory_browser`にアクセスすると、最近の記憶と要約を閲覧および校正でき、モデルの繰り返しや認知エラーなどの問題をある程度緩和できます。

# プロジェクト詳細

**プロジェクトアーキテクチャ**

```
N.E.K.O/
├── 📁 brain/                    # 🧠 バックグラウンドAgentモジュール、フロントエンド対話内容に基づいてキーボード/マウスとMCPを制御
├── 📁 config/                   # ⚙️ 設定管理モジュール
│   ├── api_providers.json       # APIプロバイダー設定
│   ├── prompts_chara.py         # キャラクタープロンプト
│   └── prompts_sys.py           # システムプロンプト
├── 📁 main_logic/              # 🔧 コアモジュール
│   ├── core.py                  # コア対話モジュール
│   ├── cross_server.py         # クロスサーバー通信
│   ├── omni_realtime_client.py  # リアルタイムAPIクライアント（Realtime API）
│   ├── omni_offline_client.py  # テキストAPIクライアント（Response API）
│   └── tts_client.py            # 🔊 TTSエンジンアダプター
├── 📁 main_routers/             # 🌐 APIルーターモジュール
├── 📁 memory/                   # 🧠 記憶管理システム
│   ├── store/                   # 記憶データストレージ
├── 📁 plugin/                   # 🔌 プラグインシステム
├── 📁 static/                   # 🌐 フロントエンド静的リソース
├── 📁 templates/                # 📄 フロントエンドHTMLテンプレート
├── 📁 utils/                    # 🛠️ ユーティリティモジュール
├── main_server.py               # 🌐 メインサーバー
├── agent_server.py              # 🤖 AIエージェントサーバー
└── memory_server.py             # 🧠 記憶サーバー
```

**データフロー**

![Framework](../assets/framework.drawio.svg)

### 開発への参加

本プロジェクトの環境依存は非常にシンプルです。`python3.11`環境で`pip install -r requirements.txt`または`uv sync`を実行してください。開発者はQQグループ1022939659への参加をお勧めします。猫娘の名前はプロジェクトタイトルにあります。

開発者向け詳細起動手順：(1)新しい`python3.11`環境を作成。(2)`uv sync`を実行して依存関係をインストール。(3)`uv run python memory_server.py`、`uv run python main_server.py`（オプション：`uv run python agent_server.py`）を実行。(4)main serverで指定されたポート（デフォルトは`http://localhost:48911`）からウェブ版にアクセスしてAPI Keyを設定。


### TODO リスト（開発計画）

v0.7: Agent関連機能の改善。完了予定：2月。

v0.8：記憶関連機能の改善、OpenClaw類似機能の改善。完了予定：3月。

v0.9：Linux、スマートフォンを含むマルチシステム対応の改善。猫娘ネットワーク公開。完了予定：4月。

v1.0：一部モデルプロバイダーへの対応を廃止し、自社大規模モデルとエージェントシステムに注力。完了予定：6月。

## Star History[![Star History Chart](https://api.star-history.com/svg?repos=wehos/N.E.K.O.&type=Date)](https://www.star-history.com/#wehos/N.E.K.O.&Date)